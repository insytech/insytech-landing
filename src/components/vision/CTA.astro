---
import BtnLink from "../shared/BtnLink.astro";
import Container from "../shared/Container.astro";
import { visionProcess } from "@utils/vision-data.ts";

// Iconos para cada paso
const stepIcons = [
    `<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path d="M9.75 3.104v5.714a2.25 2.25 0 01-.659 1.591L5 14.5M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0v5.714c0 .597.237 1.17.659 1.591L19.8 15.3M14.25 3.104c.251.023.501.05.75.082M19.8 15.3l-1.57.393A9.065 9.065 0 0112 15a9.065 9.065 0 00-6.23.693L5 14.5m14.8.8l1.402 1.402c1.232 1.232.65 3.318-1.067 3.611A48.309 48.309 0 0112 21c-2.773 0-5.491-.235-8.135-.687-1.718-.293-2.3-2.379-1.067-3.61L5 14.5" opacity="0.3"/><path d="M9.75 3.104c-.251.023-.501.05-.75.082m.75-.082a24.301 24.301 0 014.5 0m0 0c.251-.032.501-.059.75-.082M9 8V3.818c0-.518.382-.953.894-.996a31.896 31.896 0 014.212 0c.512.043.894.478.894.996V8"/></svg>`,
    `<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path d="M12 18v-5.25m0 0a6.01 6.01 0 001.5-.189m-1.5.189a6.01 6.01 0 01-1.5-.189m3.75 7.478a12.06 12.06 0 01-4.5 0m3.75 2.383a14.406 14.406 0 01-3 0M14.25 18v-.192c0-.983.658-1.823 1.508-2.316a7.5 7.5 0 10-7.517 0c.85.493 1.509 1.333 1.509 2.316V18" opacity="0.3"/><path d="M12 2.25a.75.75 0 01.75.75v2.25a.75.75 0 01-1.5 0V3a.75.75 0 01.75-.75zM7.5 12a4.5 4.5 0 119 0 4.5 4.5 0 01-9 0z"/></svg>`,
    `<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path d="M11.42 15.17L17.25 21A2.652 2.652 0 0021 17.25l-5.877-5.877M11.42 15.17l2.496-3.03c.317-.384.74-.626 1.208-.766M11.42 15.17l-4.655 5.653a2.548 2.548 0 11-3.586-3.586l6.837-5.63m5.108-.233c.55-.164 1.163-.188 1.743-.14a4.5 4.5 0 004.486-6.336l-3.276 3.277a3.004 3.004 0 01-2.25-2.25l3.276-3.276a4.5 4.5 0 00-6.336 4.486c.091 1.076-.071 2.264-.904 2.95l-.102.085m-1.745 1.437L5.909 7.5H4.5L2.25 3.75l1.5-1.5L7.5 4.5v1.409l4.26 4.26m-1.745 1.437l1.745-1.437m6.615 8.206L15.75 15.75M4.867 19.125h.008v.008h-.008v-.008z" opacity="0.3"/></svg>`,
    `<svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" viewBox="0 0 24 24" class="w-6 h-6"><path d="M9 12.75L11.25 15 15 9.75M21 12c0 1.268-.63 2.39-1.593 3.068a3.745 3.745 0 01-1.043 3.296 3.745 3.745 0 01-3.296 1.043A3.745 3.745 0 0112 21c-1.268 0-2.39-.63-3.068-1.593a3.746 3.746 0 01-3.296-1.043 3.745 3.745 0 01-1.043-3.296A3.745 3.745 0 013 12c0-1.268.63-2.39 1.593-3.068a3.745 3.745 0 011.043-3.296 3.746 3.746 0 013.296-1.043A3.746 3.746 0 0112 3c1.268 0 2.39.63 3.068 1.593a3.746 3.746 0 013.296 1.043 3.746 3.746 0 011.043 3.296A3.745 3.745 0 0121 12z" opacity="0.3"/><path d="M9 12.75L11.25 15 15 9.75"/></svg>`
];
---

<section id="cta" class="p-0">
    <Container>
        <div
            class="w-full relative py-12 my-8 px-6 md:px-10 rounded-2xl bg-gradient-to-tr from-gray-100 to-gray-200 dark:from-gray-900 dark:to-transparent overflow-hidden"
        >
            <!-- Efectos de fondo -->
            <div class="absolute right-0 top-0 h-full w-full flex justify-end">
                <div class="w-28 h-28 overflow-auto flex rounded-xl relative blur-2xl">
                    <span class="absolute w-16 h-16 -top-1 -right-1 bg-[#00B5E2] rounded-md rotate-45"></span>
                    <span class="absolute w-16 h-16 -bottom-1 -right-1 bg-[#005EB8] rounded-md rotate-45"></span>
                    <span class="absolute w-16 h-16 -bottom-1 -left-1 bg-[#001489] rounded-md rotate-45"></span>
                </div>
            </div>

            <div class="absolute left-0 bottom-1/5 h-full w-full flex items-end">
                <div class="w-28 h-28 overflow-auto flex rounded-xl relative blur-2xl">
                    <span class="absolute w-16 h-16 -top-1 -right-1 bg-[#00B5E2] rounded-md rotate-45"></span>
                    <span class="absolute w-16 h-16 -bottom-1 -right-1 bg-[#005EB8] rounded-md rotate-45"></span>
                    <span class="absolute w-16 h-16 -bottom-1 -left-1 bg-[#001489] rounded-md rotate-45"></span>
                </div>
            </div>

            <div class="mx-auto text-center max-w-3xl relative">
                <h2
                    class="text-3xl/tight sm:text-4xl/tight md:text-5xl/tight font-bold text-heading-1"
                    data-animate="fade-up"
                >
                    Nuestro proceso de{" "}
                    <span
                        class="text-transparent bg-clip-text bg-gradient-to-br from-[#005EB8] from-5% via-40% via-[#001489] to-[#00B5E2] to-95% dark:from-[#0056f5] dark:via-[#2a5ecc] dark:to-[#71b5f5] block"
                    >
                        implementación
                    </span>
                </h2>

                <p class="text-gray-600 dark:text-gray-400 mt-4 mb-10" data-animate="fade" data-animate-delay=".06s">
                    De la idea a la producción en semanas, no meses
                </p>

                <!-- Pasos del proceso -->
                <div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6 text-left">
                    {visionProcess.map((step, i) => (
                        <div
                            class="relative flex flex-col items-start gap-3 p-5 rounded-xl bg-white/50 dark:bg-gray-800/30 backdrop-blur-sm border border-gray-200/50 dark:border-gray-700/50"
                            data-animate="fade-up"
                            data-animate-delay={`${0.08 * (i + 1)}s`}
                        >
                            <!-- Número del paso -->
                            <div class="absolute -top-3 -left-2 w-8 h-8 rounded-full bg-[#005EB8] text-white flex items-center justify-center text-sm font-bold shadow-lg">
                                {step.step}
                            </div>
                            
                            <!-- Icono -->
                            <div class="w-10 h-10 flex items-center justify-center rounded-lg bg-[#00B5E2]/10 dark:bg-[#2a5ecc]/20 text-[#005EB8] dark:text-[#71b5f5] mt-2">
                                <Fragment set:html={stepIcons[i]} />
                            </div>
                            
                            <!-- Contenido -->
                            <div>
                                <h3 class="font-bold text-gray-800 dark:text-gray-200 mb-1">
                                    {step.title}
                                </h3>
                                <p class="text-sm text-gray-600 dark:text-gray-400">
                                    {step.description}
                                </p>
                            </div>
                        </div>
                    ))}
                </div>

                <!-- CTA -->
                <div
                    class="mx-auto max-w-md sm:max-w-xl pt-10"
                    data-animate="fade"
                    data-animate-delay=".4s"
                >
                    <BtnLink
                        text="Agenda una consulta técnica"
                        href="#contact"
                        className="justify-center inline-block"
                        variant="primary"
                    />
                </div>
            </div>
        </div>
    </Container>
</section>
