---
export interface Props {}

const {} = Astro.props;
---

<div id="runner" class="runner" aria-hidden="true" title="Bot Automatizador">
    <svg
        class="bot-svg"
        width="52"
        height="52"
        viewBox="0 0 52 52"
        fill="none"
        xmlns="http://www.w3.org/2000/svg"
    >
        <!-- Glow background -->
        <circle cx="26" cy="26" r="24" fill="url(#botGlow)" opacity="0.4"
        ></circle>

        <!-- Propulsión (visible durante movimiento) -->
        <g class="thruster" opacity="0">
            <path d="M26 42 L20 50 L26 47 L32 50 Z" fill="url(#thrustGrad)">
                <animate
                    attributeName="opacity"
                    values="0;1;0.3;1;0"
                    dur="0.6s"
                    repeatCount="indefinite"></animate>
            </path>
            <path
                d="M26 44 L22 49 L26 47.5 L30 49 Z"
                fill="url(#thrustGrad2)"
                opacity="0.7"
            >
                <animate
                    attributeName="opacity"
                    values="0;0.8;0.2;0.8;0"
                    dur="0.8s"
                    repeatCount="indefinite"></animate>
            </path>
        </g>

        <!-- Antena con señal -->
        <line
            x1="26"
            y1="8"
            x2="26"
            y2="4"
            stroke="url(#antennaGrad)"
            stroke-width="2.5"
            stroke-linecap="round"></line>
        <circle cx="26" cy="3" r="2.5" fill="#00b5e2">
            <animate
                attributeName="opacity"
                values="1;0.4;1"
                dur="1.5s"
                repeatCount="indefinite"></animate>
        </circle>
        <!-- Ondas de señal -->
        <g class="signal-waves" opacity="0.6">
            <circle
                cx="26"
                cy="3"
                r="5"
                fill="none"
                stroke="#00b5e2"
                stroke-width="1"
                opacity="0.8"
            >
                <animate
                    attributeName="r"
                    values="3;8;3"
                    dur="2s"
                    repeatCount="indefinite"></animate>
                <animate
                    attributeName="opacity"
                    values="0.8;0;0.8"
                    dur="2s"
                    repeatCount="indefinite"></animate>
            </circle>
            <circle
                cx="26"
                cy="3"
                r="5"
                fill="none"
                stroke="#06ffa5"
                stroke-width="1"
                opacity="0.6"
            >
                <animate
                    attributeName="r"
                    values="3;10;3"
                    dur="2.5s"
                    repeatCount="indefinite"></animate>
                <animate
                    attributeName="opacity"
                    values="0.6;0;0.6"
                    dur="2.5s"
                    repeatCount="indefinite"></animate>
            </circle>
        </g>

        <!-- Cuerpo principal -->
        <rect
            x="12"
            y="12"
            width="28"
            height="24"
            rx="10"
            fill="url(#bodyGrad)"
            stroke="url(#strokeGrad)"
            stroke-width="2.5"></rect>

        <!-- Pantalla/visor -->
        <rect
            x="16"
            y="16"
            width="20"
            height="16"
            rx="6"
            fill="#0A1931"
            stroke="url(#screenGrad)"
            stroke-width="1"></rect>

        <!-- Ojos con animación -->
        <g class="eyes">
            <circle cx="21" cy="24" r="3.5" fill="#0A1931"></circle>
            <circle cx="31" cy="24" r="3.5" fill="#0A1931"></circle>
            <circle class="eyeL" cx="21" cy="24" r="2" fill="#06ffa5">
                <animate
                    attributeName="opacity"
                    values="1;1;0.2;1"
                    keyTimes="0;0.8;0.85;1"
                    dur="3s"
                    repeatCount="indefinite"></animate>
            </circle>
            <circle class="eyeR" cx="31" cy="24" r="2" fill="#06ffa5">
                <animate
                    attributeName="opacity"
                    values="1;1;0.2;1"
                    keyTimes="0;0.75;0.8;1"
                    dur="3s"
                    repeatCount="indefinite"></animate>
            </circle>
            <!-- Puntos de brillo en los ojos -->
            <circle cx="22" cy="23" r="0.8" fill="#ffffff" opacity="0.9"
            ></circle>
            <circle cx="32" cy="23" r="0.8" fill="#ffffff" opacity="0.9"
            ></circle>
        </g>

        <!-- Indicador de actividad -->
        <rect
            x="18"
            y="28"
            width="16"
            height="2"
            rx="1"
            fill="url(#activityGrad)"
        >
            <animate
                attributeName="width"
                values="2;16;2"
                dur="1.8s"
                repeatCount="indefinite"></animate>
            <animate
                attributeName="x"
                values="25;18;25"
                dur="1.8s"
                repeatCount="indefinite"></animate>
        </rect>

        <!-- Brazos/extensiones laterales -->
        <rect
            x="8"
            y="20"
            width="4"
            height="8"
            rx="2"
            fill="url(#armGrad)"
            opacity="0.8"></rect>
        <rect
            x="40"
            y="20"
            width="4"
            height="8"
            rx="2"
            fill="url(#armGrad)"
            opacity="0.8"></rect>

        <!-- Definiciones de gradientes -->
        <defs>
            <radialGradient id="botGlow" cx="0.5" cy="0.5" r="0.5">
                <stop offset="0%" stop-color="#0066ff" stop-opacity="0.8"
                ></stop>
                <stop offset="70%" stop-color="#00b5e2" stop-opacity="0.3"
                ></stop>
                <stop offset="100%" stop-color="#06ffa5" stop-opacity="0"
                ></stop>
            </radialGradient>

            <linearGradient id="bodyGrad" x1="12" y1="12" x2="40" y2="36">
                <stop offset="0%" stop-color="#0066ff"></stop>
                <stop offset="50%" stop-color="#0052cc"></stop>
                <stop offset="100%" stop-color="#00b5e2"></stop>
            </linearGradient>

            <linearGradient id="strokeGrad" x1="12" y1="12" x2="40" y2="36">
                <stop offset="0%" stop-color="#4da6ff"></stop>
                <stop offset="100%" stop-color="#00d4ff"></stop>
            </linearGradient>

            <linearGradient id="screenGrad" x1="16" y1="16" x2="36" y2="32">
                <stop offset="0%" stop-color="#00b5e2" stop-opacity="0.3"
                ></stop>
                <stop offset="100%" stop-color="#06ffa5" stop-opacity="0.1"
                ></stop>
            </linearGradient>

            <linearGradient id="antennaGrad" x1="26" y1="4" x2="26" y2="8">
                <stop offset="0%" stop-color="#06ffa5"></stop>
                <stop offset="100%" stop-color="#00b5e2"></stop>
            </linearGradient>

            <linearGradient id="thrustGrad" x1="26" y1="42" x2="26" y2="50">
                <stop offset="0%" stop-color="#06ffa5"></stop>
                <stop offset="50%" stop-color="#00b5e2"></stop>
                <stop offset="100%" stop-color="#0066ff"></stop>
            </linearGradient>

            <linearGradient id="thrustGrad2" x1="26" y1="44" x2="26" y2="49">
                <stop offset="0%" stop-color="#ffffff"></stop>
                <stop offset="100%" stop-color="#06ffa5"></stop>
            </linearGradient>

            <linearGradient id="activityGrad" x1="18" y1="28" x2="34" y2="30">
                <stop offset="0%" stop-color="#06ffa5"></stop>
                <stop offset="50%" stop-color="#00b5e2"></stop>
                <stop offset="100%" stop-color="#0066ff"></stop>
            </linearGradient>

            <linearGradient id="armGrad" x1="8" y1="20" x2="44" y2="28">
                <stop offset="0%" stop-color="#0052cc"></stop>
                <stop offset="100%" stop-color="#00b5e2"></stop>
            </linearGradient>
        </defs>
    </svg>

    <!-- Estado del bot -->
    <div class="bot-status">
        <div class="status-dot"></div>
        <span class="status-text">Procesando...</span>
    </div>
</div>

<style>
    .runner {
        position: absolute;
        width: 60px;
        height: 60px;
        z-index: 10;
        pointer-events: none;
        left: 0; /* CAMBIO: Inicializar en 0 en lugar de -9999px */
        top: 0; /* CAMBIO: Inicializar en 0 en lugar de -9999px */
        opacity: 0; /* NUEVO: Inicialmente invisible hasta que se posicione */
        visibility: hidden; /* NUEVO: Inicialmente oculto */
        filter: drop-shadow(0 8px 25px rgba(0, 102, 255, 0.4));
        transform-origin: 50% 50%;
        transition:
            opacity 0.3s ease,
            visibility 0.3s ease; /* NUEVO: Transición suave */
    }

    .bot-svg {
        width: 100%;
        height: 100%;
        transform-origin: center;
        transform: rotate(var(--rotation, 0));
        transition: transform 0.3s cubic-bezier(0.4, 0, 0.2, 1);
    }

    .runner.moving .thruster {
        opacity: 1 !important;
    }

    .runner.moving .signal-waves {
        opacity: 1 !important;
    }

    .bot-status {
        position: absolute;
        bottom: -25px;
        left: 50%;
        transform: translateX(-50%);
        display: flex;
        align-items: center;
        gap: 4px;
        font-size: 10px;
        color: var(--accent);
        font-weight: 600;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    .runner.moving .bot-status {
        opacity: 1;
    }

    .status-dot {
        width: 6px;
        height: 6px;
        border-radius: 50%;
        background: var(--success);
        animation: pulse 1s infinite;
    }

    @keyframes pulse {
        0%,
        100% {
            opacity: 1;
            transform: scale(1);
        }
        50% {
            opacity: 0.5;
            transform: scale(1.2);
        }
    }
</style>
