---
import { Zap, Bot, Sparkles } from "@lucide/astro";
---

<div
    class="flex flex-col items-center justify-center w-full h-full px-2 py-6 text-center"
>
    <!-- Versión horizontal para tablets -->
    <div
        class="horizontal-flow flex items-center justify-center gap-3 mb-6 w-full max-w-sm"
    >
        <!-- Trigger -->
        <div
            class="flex flex-col items-center gap-2 opacity-0 animate-[fadeInUp_0.6s_ease-out_0.2s_forwards]"
        >
            <div
                class="w-16 h-16 md:w-14 md:h-14 rounded-full flex items-center justify-center text-white relative transition-all duration-300 shadow-lg bg-gradient-to-br from-blue-500 to-blue-700 animate-[pulse_2s_infinite]"
            >
                <Zap size={24} class="md:!w-5 md:!h-5" />
            </div>
            <span
                class="text-xs font-semibold text-slate-500 dark:text-slate-400 leading-tight"
            >
                Activación
            </span>
        </div>

        <!-- Arrow -->
        <div
            class="text-slate-400 opacity-0 animate-[slideIn_0.4s_ease-out_0.4s_forwards] transform -translate-x-1 px-2"
        >
            <svg
                width="16"
                height="12"
                viewBox="0 0 16 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M1 6L15 6M15 6L10 1M15 6L10 11"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
            </svg>
        </div>

        <!-- AI Agent -->
        <div
            class="flex flex-col items-center gap-2 opacity-0 animate-[fadeInUp_0.6s_ease-out_0.6s_forwards]"
        >
            <div
                class="w-16 h-16 md:w-14 md:h-14 rounded-full flex items-center justify-center text-white relative transition-all duration-300 shadow-lg bg-gradient-to-br from-purple-500 to-purple-700 animate-[pulse_2s_infinite_0.5s]"
            >
                <Bot size={24} class="md:!w-5 md:!h-5" />
            </div>
            <span
                class="text-xs font-semibold text-slate-500 dark:text-slate-400 leading-tight"
            >
                IA Procesa
            </span>
        </div>

        <!-- Arrow -->
        <div
            class="text-slate-400 opacity-0 animate-[slideIn_0.4s_ease-out_0.8s_forwards] transform -translate-x-1 px-2"
        >
            <svg
                width="16"
                height="12"
                viewBox="0 0 16 12"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M1 6L15 6M15 6L10 1M15 6L10 11"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
            </svg>
        </div>

        <!-- Result -->
        <div
            class="flex flex-col items-center gap-2 opacity-0 animate-[fadeInUp_0.6s_ease-out_1s_forwards]"
        >
            <div
                class="w-16 h-16 md:w-14 md:h-14 rounded-full flex items-center justify-center text-white relative transition-all duration-300 shadow-lg bg-gradient-to-br from-emerald-400 to-emerald-600 animate-[pulse_2s_infinite_1s]"
            >
                <div
                    class="absolute -top-0.5 -left-0.5 -right-0.5 -bottom-0.5 border-2 border-emerald-400 rounded-full animate-[ripple_2s_infinite]"
                >
                </div>
                <Sparkles size={24} class="md:!w-5 md:!h-5" />
            </div>
            <span
                class="text-xs font-semibold text-slate-500 dark:text-slate-400 leading-tight"
            >
                Automatización
            </span>
        </div>
    </div>

    <!-- Versión vertical para móviles muy pequeños -->
    <div class="vertical-flow hidden flex-col items-center gap-4 mb-6">
        <!-- Trigger -->
        <div
            class="flex items-center gap-3 opacity-0 animate-[fadeInUp_0.6s_ease-out_0.2s_forwards] w-full max-w-xs"
        >
            <div
                class="w-14 h-14 rounded-full flex items-center justify-center text-white relative transition-all duration-300 shadow-lg bg-gradient-to-br from-blue-500 to-blue-700 animate-[pulse_2s_infinite] flex-shrink-0"
            >
                <Zap size={20} />
            </div>
            <div class="text-left">
                <span
                    class="text-sm font-semibold text-slate-600 dark:text-slate-300 block"
                >
                    Activación
                </span>
                <span class="text-xs text-slate-500 dark:text-slate-400">
                    Detecta eventos
                </span>
            </div>
        </div>

        <!-- Arrow Down -->
        <div
            class="text-slate-400 opacity-0 animate-[slideIn_0.4s_ease-out_0.4s_forwards] py-1"
        >
            <svg
                width="12"
                height="16"
                viewBox="0 0 12 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M6 1L6 15M6 15L1 10M6 15L11 10"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
            </svg>
        </div>

        <!-- AI Agent -->
        <div
            class="flex items-center gap-3 opacity-0 animate-[fadeInUp_0.6s_ease-out_0.6s_forwards] w-full max-w-xs"
        >
            <div
                class="w-14 h-14 rounded-full flex items-center justify-center text-white relative transition-all duration-300 shadow-lg bg-gradient-to-br from-purple-500 to-purple-700 animate-[pulse_2s_infinite_0.5s] flex-shrink-0"
            >
                <Bot size={20} />
            </div>
            <div class="text-left">
                <span
                    class="text-sm font-semibold text-slate-600 dark:text-slate-300 block"
                >
                    IA Procesa
                </span>
                <span class="text-xs text-slate-500 dark:text-slate-400">
                    Analiza y decide
                </span>
            </div>
        </div>

        <!-- Arrow Down -->
        <div
            class="text-slate-400 opacity-0 animate-[slideIn_0.4s_ease-out_0.8s_forwards] py-1"
        >
            <svg
                width="12"
                height="16"
                viewBox="0 0 12 16"
                fill="none"
                xmlns="http://www.w3.org/2000/svg"
            >
                <path
                    d="M6 1L6 15M6 15L1 10M6 15L11 10"
                    stroke="currentColor"
                    stroke-width="2"
                    stroke-linecap="round"
                    stroke-linejoin="round"></path>
            </svg>
        </div>

        <!-- Result -->
        <div
            class="flex items-center gap-3 opacity-0 animate-[fadeInUp_0.6s_ease-out_1s_forwards] w-full max-w-xs"
        >
            <div
                class="w-14 h-14 rounded-full flex items-center justify-center text-white relative transition-all duration-300 shadow-lg bg-gradient-to-br from-emerald-400 to-emerald-600 animate-[pulse_2s_infinite_1s] flex-shrink-0"
            >
                <div
                    class="absolute -top-0.5 -left-0.5 -right-0.5 -bottom-0.5 border-2 border-emerald-400 rounded-full animate-[ripple_2s_infinite]"
                >
                </div>
                <Sparkles size={20} />
            </div>
            <div class="text-left">
                <span
                    class="text-sm font-semibold text-slate-600 dark:text-slate-300 block"
                >
                    Automatización
                </span>
                <span class="text-xs text-slate-500 dark:text-slate-400">
                    Ejecuta acciones
                </span>
            </div>
        </div>
    </div>

    <!-- Description -->
    <div class="mt-4 opacity-0 animate-[fadeIn_0.6s_ease-out_1.2s_forwards]">
        <p class="text-sm font-medium text-slate-600 dark:text-slate-400 m-0">
            Flujos inteligentes que trabajan 24/7
        </p>
    </div>
</div>

<style>
    /* Responsive: Mostrar horizontal en tablets, vertical en móviles */
    @media (max-width: 1024px) and (min-width: 481px) {
        .horizontal-flow {
            display: flex;
        }
        .vertical-flow {
            display: none;
        }
    }

    @media (max-width: 480px) {
        .horizontal-flow {
            display: none;
        }
        .vertical-flow {
            display: flex;
        }
    }

    @keyframes fadeInUp {
        from {
            opacity: 0;
            transform: translateY(20px);
        }
        to {
            opacity: 1;
            transform: translateY(0);
        }
    }

    @keyframes slideIn {
        to {
            opacity: 1;
            transform: translateX(0);
        }
    }

    @keyframes fadeIn {
        to {
            opacity: 1;
        }
    }

    @keyframes pulse {
        0%,
        100% {
            transform: scale(1);
            box-shadow: 0 4px 15px rgba(0, 0, 0, 0.1);
        }
        50% {
            transform: scale(1.05);
            box-shadow: 0 8px 25px rgba(0, 0, 0, 0.2);
        }
    }

    @keyframes ripple {
        0% {
            transform: scale(1);
            opacity: 1;
        }
        100% {
            transform: scale(1.4);
            opacity: 0;
        }
    }
</style>
