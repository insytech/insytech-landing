---
import Container from "../shared/Container.astro";

const services = [
    {
        title: "Programación de PLCs",
        description: "Desarrollo de lógica de control para Allen-Bradley, Siemens, Omron y Mitsubishi. Migración de sistemas legacy.",
        image: "/images/control/plc.webp",
        tags: ["Ladder", "ST", "FBD"]
    },
    {
        title: "Sistemas SCADA",
        description: "Interfaces de supervisión y control en tiempo real. Integración con bases de datos y sistemas empresariales.",
        image: "/images/control/scada.webp",
        tags: ["Ignition", "Aveva", "WinCC"]
    },
    {
        title: "IoT Industrial",
        description: "Conectividad de máquinas, sensores y actuadores. Monitoreo remoto y análisis predictivo.",
        image: "/images/control/iot.webp",
        tags: ["OPC-UA", "MQTT", "Edge"]
    }
];
---

<section id="services" class="relative py-24 bg-white dark:bg-gray-950">
    <Container>
        <!-- Header -->
        <div class="text-center mb-16" data-animate="fade-up">
            <div class="inline-flex items-center gap-2 px-4 py-2 rounded-sm bg-[#005EB8]/10 border-l-4 border-[#005EB8] mb-6">
                <span class="text-sm font-medium text-[#005EB8] dark:text-[#4da6ff] uppercase tracking-wider">
                    Nuestros servicios
                </span>
            </div>
            <h2 class="text-3xl sm:text-4xl lg:text-5xl font-bold text-[#211915] dark:text-white leading-tight">
                Soluciones de
                <span class="text-transparent bg-clip-text bg-gradient-to-r from-[#001489] via-[#005EB8] to-[#00B5E2] dark:from-[#4da6ff] dark:via-[#00B5E2] dark:to-[#6de0ff]">
                    automatización industrial
                </span>
            </h2>
        </div>

        <!-- Services Grid -->
        <div class="grid lg:grid-cols-3 gap-8">
            {services.map((service, index) => (
                <div 
                    class="group relative bg-gray-50 dark:bg-gray-900 rounded-sm overflow-hidden border border-gray-100 dark:border-gray-800 hover:border-[#005EB8]/50 transition-all duration-500"
                    data-animate="fade-up"
                    data-animate-delay={`${0.1 * (index + 1)}s`}
                >
                    <!-- Image -->
                    <div class="relative h-56 overflow-hidden">
                        <!-- Placeholder gradient if image not found -->
                        <div class="absolute inset-0 bg-gradient-to-br from-[#001489] to-[#005EB8] z-0"></div>
                        <!-- Image -->
                        <img 
                            src={service.image}
                            alt={service.title}
                            class="relative z-10 w-full h-full object-cover group-hover:scale-110 transition-transform duration-700"
                            loading="lazy"
                        />
                        <!-- Overlay gradient for text readability -->
                        <div class="absolute inset-0 z-20 bg-gradient-to-t from-gray-900/60 via-transparent to-transparent"></div>
                        
                        <!-- Tags -->
                        <div class="absolute bottom-4 left-4 flex gap-2 z-30">
                            {service.tags.map(tag => (
                                <span class="px-2 py-1 text-xs font-medium text-white bg-white/20 backdrop-blur-sm rounded">
                                    {tag}
                                </span>
                            ))}
                        </div>
                    </div>

                    <!-- Content -->
                    <div class="p-6">
                        <h3 class="text-xl font-bold text-[#211915] dark:text-white mb-3 group-hover:text-[#005EB8] dark:group-hover:text-[#00B5E2] transition-colors">
                            {service.title}
                        </h3>
                        <p class="text-gray-600 dark:text-gray-400 leading-relaxed mb-4">
                            {service.description}
                        </p>
                        
                        <!-- Learn more link -->
                        <a 
                            href="#contact"
                            class="inline-flex items-center gap-2 text-[#005EB8] dark:text-[#00B5E2] font-medium group-hover:gap-3 transition-all"
                        >
                            <span>Más información</span>
                            <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="2" stroke="currentColor" class="w-4 h-4">
                                <path stroke-linecap="round" stroke-linejoin="round" d="M13.5 4.5L21 12m0 0l-7.5 7.5M21 12H3" />
                            </svg>
                        </a>
                    </div>

                    <!-- Accent line -->
                    <div class="absolute bottom-0 left-0 right-0 h-1 bg-gradient-to-r from-[#001489] via-[#005EB8] to-[#00B5E2] scale-x-0 group-hover:scale-x-100 transition-transform duration-500 origin-left"></div>
                </div>
            ))}
        </div>
    </Container>
</section>
